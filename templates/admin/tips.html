{% extends 'base.html' %}
{% block title %}Manage Tips{% endblock %}

{% block css %}
  <link rel="stylesheet" href="{{ url_for('static', filename='style/admin.css') }}" />
{% endblock %}

{% block content %}
  <section class="container mt-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <div>
        <p class="text-muted mb-1 small">Content</p>
        <h2 class="mb-0">Tips</h2>
      </div>
      <a class="btn start-btn" href="{{ url_for('main.admin_tip_create') }}">Add tip</a>
    </div>

    {% if tips %}
      <div class="table-responsive glass-card p-3">
        <table class="table align-middle mb-0">
          <thead>
            <tr>
              <th>Title</th>
              <th>Category</th>
              <th>Updated</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            {% for tip in tips %}
              <tr>
                <td>{{ tip.title }}</td>
                <td>{{ tip.category or '—' }}</td>
                <td>{{ tip.updated_at.strftime('%b %d, %Y') if tip.updated_at else '—' }}</td>
                <td class="text-end">
                  <a class="btn btn-sm btn-outline-primary" href="{{ url_for('main.admin_tip_edit', tip_id=tip.id) }}">Edit</a>
                  <form action="{{ url_for('main.admin_tip_delete', tip_id=tip.id) }}" method="post" class="d-inline">
                    <button type="submit" class="btn btn-sm btn-outline-danger" onclick="return confirm('Delete this tip?')">Delete</button>
                  </form>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <div class="glass-card p-4 text-center text-muted">No tips yet.</div>
    {% endif %}
  </section>
{% endblock %}
